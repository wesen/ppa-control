<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PPA Packet Analysis Dashboard - Development</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/app.css">
</head>
<body class="bg-light">
    <div id="app">
        <div class="d-flex justify-content-center align-items-center min-vh-100">
            <div class="text-center">
                <div class="spinner-border text-primary mb-3" style="width: 3rem; height: 3rem;">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <h3>Loading PPA Dashboard...</h3>
                <p class="text-muted">Building the application with Vite dev server</p>
                <p class="small text-muted">If this takes too long, check that <code>cd cmd/ppa-web/static && bun install && bun run dev</code> is running.</p>
            </div>
        </div>
    </div>
    
    <!-- Development scripts will be injected by Vite -->
    <script type="module">
        // Check if we're in development mode
        if (import.meta.env?.DEV) {
            console.log('Running in development mode with Vite');
        } else {
            console.log('Production build detected');
        }
        
        // Import the main application
        import('./js/main.tsx').catch(err => {
            console.error('Failed to load application:', err);
            document.getElementById('app').innerHTML = `
                <div class="container py-5">
                    <div class="alert alert-danger text-center">
                        <h4>Failed to load application</h4>
                        <p>Make sure to run the development server:</p>
                        <pre class="bg-dark text-light p-3 rounded">cd cmd/ppa-web/static && bun install && bun run dev</pre>
                        <p class="mt-3">Or build for production:</p>
                        <pre class="bg-dark text-light p-3 rounded">cd cmd/ppa-web/static && bun run build</pre>
                    </div>
                </div>
            `;
        });
    </script>
</body>
</html>
